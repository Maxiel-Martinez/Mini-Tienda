<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productos - Inventario</title>
  <link rel="stylesheet" href="../css/productos.css">
</head>

<body>
  
  <div id="sidebar-container"></div>

  <div class="main-content">
    <div class="header">
      <div class="header-title">
        <h1>Productos</h1>
        <p>Gestiona tu inventario y catálogo de productos</p>
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <h3>Total Productos</h3>
        <div id="total_productos" class="stat-number blue">0</div>
        <div class="stat-label">En catálogo</div>
      </div>
      <div class="stat-card">
        <h3>Bajo Stock</h3>
        <div id="bajo_stock" class="stat-number orange">0</div>
        <div class="stat-label">Requieren reposición</div>
      </div>
      <div class="stat-card">
        <h3>Agotados</h3>
        <div id="agotados" class="stat-number red">0</div>
        <div class="stat-label">Sin existencias</div>
      </div>
      <div class="stat-card">
        <h3>Valor Inventario</h3>
        <div id="valor_inventario" class="stat-number green">$0</div>
        <div class="stat-label">Total en stock</div>
      </div>
    </div>

    <!-- <div class="filters">
      <div class="filter-tabs">
        <button class="filter-tab active">Todos (24)</button>
        <button class="filter-tab">Categoría 1 (8)</button>
        <button class="filter-tab">Categoría 2 (6)</button>
        <button class="filter-tab">Categoría 3 (10)</button>
      </div>
      <div class="view-toggle">
        <button class="view-btn active">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <rect x="1" y="1" width="6" height="6" rx="1" />
            <rect x="9" y="1" width="6" height="6" rx="1" />
            <rect x="1" y="9" width="6" height="6" rx="1" />
            <rect x="9" y="9" width="6" height="6" rx="1" />
          </svg>
        </button>
        <button class="view-btn">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <rect x="1" y="2" width="14" height="2" rx="1" />
            <rect x="1" y="7" width="14" height="2" rx="1" />
            <rect x="1" y="12" width="14" height="2" rx="1" />
          </svg>
        </button>
      </div>
    </div> -->

    <div id="products-grid" class="products-grid"></div>
  </div>
  <div id="modal-overlay" class="modal-overlay">
    <div class="modal">
      <!-- Header del modal -->
      <div class="modal-header">
        <h2>Editar Producto</h2>
        <button id="close-btn" class="close-btn">&times;</button>
      </div>

      <!-- Contenido del modal -->
      <div class="modal-body">
        <div class="modal-split">
          <!-- Columna Izquierda: Información Básica -->
          <div class="modal-left">
            <h3 class="section-title">Información Básica</h3>
            <form id="basic-info-form" class="product-form" id="form-basic-info">
              <input type="hidden" id="producto_id" name="producto_id">
              <div class="form-group">
                <label for="nombre">Nombre del Producto</label>
                <input type="text" id="nombre" name="nombre" placeholder="Nombre del producto">
              </div>

              <div class="form-group">
                <label for="categoria">Categoría</label>
                <select id="categoria_id" name="categoria_id">
                  <option value="">Seleccionar categoría</option>
                </select>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="precio">Precio</label>
                  <input type="number" id="precio" name="precio" placeholder="0" min="0">
                </div>
                <div class="form-group">
                  <label for="stock">Stock</label>
                  <input type="number" id="stock" name="stock" placeholder="0" min="0">
                </div>
              </div>

              <div class="form-group">
                <label for="descripcion">Descripción</label>
                <textarea id="descripcion" name="descripcion" rows="4"
                  placeholder="Descripción del producto"></textarea>
              </div>

              <button type="submit" class="btn-submit">Guardar Información</button>
            </form>
          </div>

          <!-- Columna Derecha: Imagen del Producto -->
          <div class="modal-right">
            <h3 class="section-title">Imagen del Producto</h3>
            <form class="image-form" id="form-image">
              <input type="hidden" id="producto_id_image" name="producto_id">
              <div class="form-group">
                <div id="image-upload" class="image-upload">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                    <polyline points="21 15 16 10 5 21"></polyline>
                  </svg>
                  <p>Arrastra una imagen aquí o haz clic para seleccionar</p>
                  <input type="file" id="image-input" name="image" accept="image/*" hidden>
                </div>
              </div>

              <button id="btn-img-upload" type="submit" class="btn-submit">Subir Imagen</button>
            </form>
            <!-- Preview container -->
            <div id="preview-container" style="display: none; margin-top: 16px;">
              <img id="image-preview" style="max-width: 100%; max-height: 200px; border-radius: 8px;">
            </div>
          </div>
        </div>
      </div>

      <!-- Footer del modal -->
      <div class="modal-footer">
        <button type="button" id="btn-cancel" class="btn-cancel">Cancelar</button>
      </div>
    </div>
  </div>
  
  <script type="module" src="../js/productos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="../js/sidebar.js"></script>
</body>

</html>
